/*! swlcalc version 2.9.1 2021-02-04 */

!function(){function t(t,e){return t.w('<div id="agent').f(e.get(["id"],!1),e,"h").w('-div" class="agent-div"><table class="table agent-table"><tr><td class="agent-title" colspan="4">SLOT ').f(e.get(["id"],!1),e,"h").w('</td></tr><tr><td class="agent-name-label"><strong>Agent :</strong></td><td><select id="agent').f(e.get(["id"],!1),e,"h").w('-id" class="agent-name-select" title="Please select agent"></select></td></tr><tr><td class="agent-level-label"><strong>Level :</strong></td><td><select id="agent').f(e.get(["id"],!1),e,"h").w('-level" class="agent-level-select" title="Please select agent"><option value="25">25</option><option value="50">50</option></select></td></tr></table><hr><p id="agent').f(e.get(["id"],!1),e,"h").w('-text25">Empty agent slot</p><p id="agent').f(e.get(["id"],!1),e,"h").w('-text50"></p></div>')}dust.register("agent",t),t.__dustBody=!0}(),function(){function t(t,e){return t.w('<div id="anima_allocation"><div><h4>Anima allocation</h4><table class="table anima-allocation-table"><tr><td><input id="anima-allocation-damage-range" type="range" min="0" max="100" value="100"></td><td><div class="stat-value dps"><span id="anima-allocation-damage-val">100</span><span>%</span></div></td></tr><tr><td><input id="anima-allocation-healing-range" type="range" min="0" max="100" value="0"></td><td><div class="stat-value heal"><span id="anima-allocation-healing-val">0</span><span>%</span></div></td></tr><tr><td><input id="anima-allocation-survivability-range" type="range" min="0" max="100" value="0"></td><td><div class="stat-value tank"><span id="anima-allocation-survivability-val">0</span><span>%</span></div></td></tr></table>\x3c!-- <select id="select-anima-allocation" class="anima-allocation-select dps"><option value="dps" class="dps" selected="true">100% Damage</option><option value="heal" class="heal">100% Healing</option><option value="tank" class="tank">100% Survivability</option></select> --\x3e</div></div>')}dust.register("anima_allocation",t),t.__dustBody=!0}(),function(){function t(t,e){return t.p("navbar",e,{}).w('<div class="container">').p("exportmodal",e,{}).w('<div class="row"><div class="col-lg-9 col-md-9 col-sm-9 col-xs-9 section"><h4>Gear</h4>').p("slots_recap",e,{}).p("slots_edit",e,{}).w('</div><div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"><div id="sidebar"><div class="row" id="row-anima-allocation"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 section">').p("anima_allocation",e,{}).w('</div></div><div class="row" id="row-summary"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 section">').p("summary",e,{}).w('</div></div></div></div></div><div class="row"><div class="col-lg-9 col-md-9 col-sm-9 col-xs-9 section agents"><h4>Supporting Agents</h4><div class="row"><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("agent",e,{id:"1"}).w('</div><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("agent",e,{id:"2"}).w('</div><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("agent",e,{id:"3"}).w('</div></div></div></div></div><div class="footer"><p>swlcalc &copy; 2017-2020 Antoine THEBAUD. Version <a href="https://github.com/AntoineThebaud/swlcalc/tree/2.9.1" target="_new">2.9.1</a>. Hosted on Github Pages.</p></div>')}dust.register("body",t),t.__dustBody=!0}(),function(){function t(t,e){return t.w('\x3c!-- Pop-up window on [ Export ] --\x3e\x3c!-- TODO : Find a way to put this with the buttonbar like before. Could not be included in the navbar because modal display outside container is not working properly--\x3e<div id="open-export-modal" class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Export</h4></div><div class="modal-body export"><p class="mediumgrey">Copy this and share :</p><input id="export-text" type="text" class="form-control"></input></div></div></div></div>')}dust.register("exportmodal",t),t.__dustBody=!0}(),function(){function t(t,e){return t.w('<select id="').f(e.get(["id"],!1),e,"h").w("-edit-").f(e.get(["itemtype"],!1),e,"h").w('-level" title="Please select level"><option value="20">20</option><option value="19">19</option><option value="18">18</option><option value="17">17</option><option value="16">16</option><option value="15">15</option><option value="14">14</option><option value="13">13</option><option value="12">12</option><option value="11">11</option><option value="10">10</option><option value="9">9</option><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select>')}dust.register("levelselect",t),t.__dustBody=!0}(),function(){function t(t,e){return t.w('<nav class="navbar navbar-inverse navbar-fixed-top"><div class="container-fluid"><div class="btn-toolbar" role="toolbar" aria-label="..."><div class="btn-group toplvl" role="group"><div class="navbar-logo logo-swlcalc"/><div class="logo-div navbar-logo"><span class="logo-slogan mediumgrey">A gear planner for</span><img class="logo-swl" src="assets/images/logos/swl.png"/></div></div><div class="btn-group toplvl" role="group">\x3c!-- [ Set rarity v ] --\x3e<div class="btn-group" role="group"><button type="button" class="btn btn-transparent dropdown-toggle" data-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">Set rarity <span class="caret"></span></button><ul class="dropdown-menu"><li><a id="btn-all-standard"><span class="fix-link">All to <span class="color-standard">Standard</span></span></a></li><li><a id="btn-all-superior"><span class="fix-link">All to <span class="color-superior">Superior</span></span></a></li><li><a id="btn-all-epic"><span class="fix-link">All to <span class="color-epic">Epic</span></span></a></li><li><a id="btn-all-mythic" ><span class="fix-link">All to <span class="color-mythic">Mythic</span></span></a></li><li><a id="btn-all-legendary"><span class="fix-link">All to <span class="color-legendary">Legendary</span></span></a></li></ul></div>\x3c!-- [ Set quality v ] --\x3e<div class="btn-group" role="group"><button type="button" class="btn btn-transparent dropdown-toggle" data-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">Set quality <span class="caret"></span></button><ul class="dropdown-menu"><li><a id="btn-all-1-pip"><span class="fix-link">All to 1 pip</span></a></li><li><a id="btn-all-2-pip"><span class="fix-link">All to 2 pips</span></a></li><li><a id="btn-all-3-pip"><span class="fix-link">All to 3 pips</span></a></li><li><a id="btn-all-4-pip"><span class="fix-link">All to 4 pips</span></a></li></ul></div>\x3c!-- [ Set level v ] --\x3e<div class="btn-group" role="group"><button type="button" class="btn btn-transparent dropdown-toggle" data-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">Set level <span class="caret"></span></button><ul class="dropdown-menu"><li><a id="btn-all-lvl-min"><span class="fix-link">All to min</span></a></li><li><a id="btn-all-lvl-max"><span class="fix-link">All to max</span></a></li></ul></div></div><div class="btn-group right toplvl" role="group">\x3c!-- [ Reset ] --\x3e<button type="button" id="btn-reset" class="btn btn-danger">Reset</button>\x3c!-- [ Export ] --\x3e<div class="btn-group" role="group"><button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">Export <span class="caret"></span></button><ul class="dropdown-menu"><li><a class="export" href="#open-export-modal" data="url" data-toggle="modal">URL</a></li></ul></div>\x3c!-- [ Feedback ] --\x3e<a class="btn btn-info feedback" href="https://forums.funcom.com/t/swlcalc-gear-planner-for-swl/1908"><img class="navbar-icon-img swl" src="assets/images/icons/funcomforum.png" />Feedback</a>\x3c!-- [ Theme v ] --\x3e<div class="btn-group" role="group"><button type="button" class="btn btn-transparent dropdown-toggle" data-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false">Theme <span class="caret"></span></button><ul class="dropdown-menu"><li><a id="btn-theme-sw"><span class="fix-link">Secret World</span></a></li><li><a id="btn-theme-classic"><span class="fix-link">Classic</span></a></li></ul></div>\x3c!-- [ Github ] --\x3e<a class="navbar-icon-a" href="https://github.com/AntoineThebaud/swlcalc" target="_blank"><img class="navbar-icon-img github" src="assets/images/icons/github.png" /></a></div></div></div></nav>')}dust.register("navbar",t),t.__dustBody=!0}(),function(){function t(t,e){return t.w('<select id="').f(e.get(["id"],!1),e,"h").w("-edit-").f(e.get(["itemtype"],!1),e,"h").w('-quality" title="Please select quality"><option value="1">').f(e.get(["pip1"],!1),e,"h").w('</option><option value="2">').f(e.get(["pip2"],!1),e,"h").w('</option><option value="3">').f(e.get(["pip3"],!1),e,"h").w("</option></select>")}dust.register("qualityselect",t),t.__dustBody=!0}(),function(){function t(t,e){return t.w('<select id="').f(e.get(["id"],!1),e,"h").w("-edit-").f(e.get(["itemtype"],!1),e,"h").w('-rarity" title="Please select rarity"><option value="standard" class="color-standard">Standard</option><option value="superior" class="color-superior">Superior</option><option value="epic" class="color-epic">Epic</option><option value="mythic" class="color-mythic">Mythic</option><option value="legendary" class="color-legendary">Legendary</option></select>')}dust.register("rarityselect",t),t.__dustBody=!0}(),function(){function t(t,e){return t.w('<div id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-section"><div id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-div"><table><tr><td id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-empty" hidden><p class="empty-slot"><input type="checkbox" disabled><span class="mediumgrey"> Empty Equipment Slot</span></p></td><td id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-img-section" rowspan="2"><img id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-img-item" class="slotrecap-itemicon" src="" alt="image"/><img id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-img-rarity" class="slotrecap-itemicon" src=""/><img id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-img-quality" class="slotrecap-itemicon" src=""/><div id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-label-level" class="label-level big border-standard"></div></td><td id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-title-section"><h5 id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-title">').x(e.getPath(!1,["slot","isWeapon"]),e,{else:i,block:a},{}).w('</h5></td><td id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-editbtn-section"><button id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-editbtn" class="btn btn-default" data-toggle="modal" data-target="#').f(e.getPath(!1,["slot","id"]),e,"h").w('-edit-modal"><img id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-editbtn-img" src="assets/images/buttons/btn-edit.png" alt="image"/></button></td></tr><tr id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-subtitle-section"><td colspan="2"><p><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-name">').f(e.getPath(!1,["slot","name"]),e,"h").w('</span><span> (Lv </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-level"></span><span> </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-rarity"></span><span>)</span></p><p><span>Item Power: </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-ilvl"></span></p></td></tr></table><hr><div id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-stat-section"><p><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-stat-power-value" class="stat-value gear"></span><span> </span>').x(e.getPath(!1,["slot","isWeapon"]),e,{else:l,block:s},{}).w("</p>").nx(e.getPath(!1,["slot","isWeapon"]),e,{block:n},{}).w('<hr></div>\x3c!-- <p><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-magprot-value">+833</span><span> </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-magprot-name">Magical Protection</span></p><p><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-phyprot-value">+833</span><span> </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-phyprot-name">Physical Protection</span></p> --\x3e<div id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-description-section"><p id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-description"></p><hr></div><div id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-glyph-section"><h6 id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-glyph-title"><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-glyph-quality"></span><span> </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-glyph-item"></span><span> Glyph</span></h6><p class="mediumgrey"><span>Glyph (Lv </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-glyph-level"></span><span> </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-glyph-rarity"></span><span>)</span></p><p><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-glyph-stat-rating" class="stat-value gear"></span><span> </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-glyph-stat-text"></span></p></div><p id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-glyph-empty" class="empty-slot" hidden><input type="checkbox" disabled><span class="mediumgrey"> Empty Glyph Slot</span></p><hr><div id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-signet-section"><h6 id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-signet-title"><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-signet-item"></span>').x(e.getPath(!1,["slot","isWeapon"]),e,{block:r},{}).w("</h6>").nx(e.getPath(!1,["slot","isWeapon"]),e,{block:c},{}).w('<p id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-signet-description">Increases the damage and healing of Elemental Elite Abilities by <span class="bonus-val const">%d</span><span class="bonus-val const">%</span>.</p></div><p id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-signet-empty" class="empty-slot" hidden><input type="checkbox" disabled><span class="mediumgrey"> Empty Signet Slot</span></p></div></div>')}function i(t,e){return t.w('<span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-quality"></span><span> </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-item"></span>')}function a(t,e){return t.w('<span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-item"></span><span> </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-affix"></span><span> </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-quality"></span>')}function l(t,e){return t.w("<span>Power Rating</span>")}function s(t,e){return t.w("<span>Weapon Power</span>")}function n(t,e){return t.w('<div class="stat-transformed"><p>With current Anima Allocation, you gain:</p><p id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-stat-hp-section"><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-stat-hp-value" class="stat-value gear"></span><span> Hit Points</span></p><p id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-stat-ar-section"><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-stat-ar-value" class="stat-value gear"></span><span> Attack Rating</span></p><p id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-stat-hr-section"><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-stat-hr-value" class="stat-value gear"></span><span> Heal Rating</span></p><p id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-stat-prot-section"><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-equipment-stat-prot-value" class="stat-value gear"></span><span> Protection</span></p></div>')}function r(t,e){return t.w('<span> </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-affix-quality"></span>')}function c(t,e){return t.w('<p class="mediumgrey"><span>Signet (Lv </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-signet-level"></span><span> </span><span id="').f(e.getPath(!1,["slot","id"]),e,"h").w('-recap-signet-rarity"></span><span>)</span></p>')}dust.register("slot_recap",t),c.__dustBody=r.__dustBody=n.__dustBody=s.__dustBody=l.__dustBody=a.__dustBody=i.__dustBody=t.__dustBody=!0}(),function(){function t(t,e){return t.s(e.get(["slots"],!1),e,{else:i,block:a},{})}function i(t,e){return t.w("<p>No slots found (Bug)!</p>")}function a(t,e){return t.w('<div id="').f(e.get(["id"],!1),e,"h").w('-edit-modal" class="modal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-body"><div id="').f(e.get(["id"],!1),e,"h").w('-edit-div" class="slot"><table class="table-title"><tr><td class="td-title"><h4 class="slot">').f(e.get(["name"],!1),e,"h").w('</h4></td><td class="slot-ilvl lightgrey">Item Power : <span id="').f(e.get(["id"],!1),e,"h").w('-edit-ilvl">0</span></td></tr></table><table class="table table-slots"><tr>').x(e.get(["isWeapon"],!1),e,{else:l,block:s},{}).w('<td class="upgrade-label rarity-label"><strong>Rarity :</strong></td><td class="upgrade-select">').p("rarityselect",e,{itemtype:"equipment"}).w('</td><td class="stat-inSlot"><p class="thin-p"><span id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-stat-power-value" class="stat-value gear">0</span><span> </span>').x(e.get(["isWeapon"],!1),e,{else:n,block:r},{}).w("</p>").nx(e.get(["isWeapon"],!1),e,{block:c},{}).w('</td></tr><tr class="with-icon"><td id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-img-section"><img id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-img-item" src="" alt="image"/><img id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-img-rarity" src=""/><img id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-img-quality" src=""/><div id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-label-level" class="label-level big border-standard">20</div></td><td class="equipment-select">').x(e.get(["isWeapon"],!1),e,{else:p,block:o},{}).w('</td><td class="upgrade-label quality-label"><strong>Quality :</strong></td><td class="upgrade-select">').x(e.get(["isWeapon"],!1),e,{else:d,block:u},{}).w('</td><td rowspan="2" class="item-description"><span id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-description"></span></td></tr><tr><td rowspan="2" class="filler"></td><td rowspan="2" class="filler"></td><td rowspan="2" class="upgrade-label level-label"><strong>Level :</strong></td><td rowspan="2" class="upgrade-select"><input id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-level" type="range" min="1" max="20" value="20" class="level-slider"></td></tr><tr><td class="ilvl lightgrey"><span id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-ilvl">0</span></td></tr></table><table id="').f(e.get(["id"],!1),e,"h").w('-edit-glyphs" class="table table-slots"><tr><td class="item-title lightgrey" colspan="2">Glyph</td><td class="upgrade-label rarity-label"><strong>Rarity :</strong></td><td class="upgrade-select">').p("rarityselect",e,{itemtype:"glyph"}).w('</td><td class="filler"></td></tr><tr class="with-icon"><td id="').f(e.get(["id"],!1),e,"h").w('-edit-glyph-img-section" class="glyph-img"><img id="').f(e.get(["id"],!1),e,"h").w('-edit-glyph-img-item" src="" alt="Glyph"/><img id="').f(e.get(["id"],!1),e,"h").w('-edit-glyph-img-quality" src=""/><img id="').f(e.get(["id"],!1),e,"h").w('-edit-glyph-img-rarity" src=""/><div id="').f(e.get(["id"],!1),e,"h").w('-edit-glyph-label-level" class="label-level little border-standard">20</div></td><td class="glyph-select"><select id="').f(e.get(["id"],!1),e,"h").w('-edit-glyph-id" title="Please select stat"><option value="none" selected="true">None</option><option value="hit-rating">Accurate</option><option value="critical-rating">Fierce</option><option value="critical-power">Devastating</option><option value="evade-rating">Elusive</option><option value="defense-rating">Stalwart</option></select></td><td class="upgrade-label quality-label"><strong>Quality :</strong></td><td class="upgrade-select">').p("qualityselect",e,{itemtype:"glyph",pip1:"Crude",pip2:"Simple",pip3:"Intricate"}).w('</td><td class="stat-inSlot"><span id="').f(e.get(["id"],!1),e,"h").w('-edit-glyph-stat-rating" class="stat-value gear">0</span><span> </span><span id="').f(e.get(["id"],!1),e,"h").w('-edit-glyph-stat-text"></span></td></tr><tr><td class="filler"></td><td class="filler"></td><td class="upgrade-label level-label"><strong>Level :</strong></td><td class="upgrade-select level-select"><input id="').f(e.get(["id"],!1),e,"h").w('-edit-glyph-level" type="range" min="1" max="20" value="20" class="level-slider"></td><td class="ilvl lightgrey"><span id="').f(e.get(["id"],!1),e,"h").w('-edit-glyph-ilvl">0</span></td></tr></table><table id="').f(e.get(["id"],!1),e,"h").w('-edit-signets" class="table table-slots">').x(e.get(["isWeapon"],!1),e,{else:h,block:g},{}).w("</table></div></div></div></div>")}function l(t,e){return t.w('<td class="item-title lightgrey" colspan="2">Talisman</td>')}function s(t,e){return t.w('<td class="item-title lightgrey" colspan="2">Weapon</td>')}function n(t,e){return t.w("<span>Power Rating</span>")}function r(t,e){return t.w("<span>Weapon Power</span>")}function c(t,e){return t.w('<p class="thin-p"><span id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-stat-prot-value" class="stat-value gear">0</span><span> Protection</span></p>')}function p(t,e){return t.w('<select id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-id" title="Please select talisman"></select>')}function o(t,e){return t.w('<select id="').f(e.get(["id"],!1),e,"h").w('-edit-equipment-id" title="Please select weapon"></select>')}function d(t,e){return t.p("qualityselect",e,{itemtype:"equipment",pip1:"Faded",pip2:"Luminous",pip3:"Radiant"})}function u(t,e){return t.p("qualityselect",e,{itemtype:"equipment",pip1:"Mk I",pip2:"Mk II",pip3:"Mk III"})}function h(t,e){return t.w('<tr><td class="item-title lightgrey" colspan="2">Signet</td><td class="upgrade-label rarity-label"><strong>Rarity :</strong></td><td class="upgrade-select">').p("rarityselect",e,{itemtype:"signet"}).w('</td><td rowspan="2" id="').f(e.get(["id"],!1),e,"h").w('-edit-signet-description" class="item-description"></td></tr><tr><td rowspan="2" id="').f(e.get(["id"],!1),e,"h").w('-edit-signet-img-section" class="signet-img"><img id="').f(e.get(["id"],!1),e,"h").w('-edit-signet-img-item" src="" alt="Signet"/><img id="').f(e.get(["id"],!1),e,"h").w('-edit-signet-img-rarity" src=""/><div id="').f(e.get(["id"],!1),e,"h").w('-edit-signet-label-level" class="label-level little border-standard">20</div></td><td rowspan="2" class="signet-select"><select id="').f(e.get(["id"],!1),e,"h").w('-edit-signet-id" title="Please select signet"></select></td><td rowspan="2" class="upgrade-label quality-label"> \x3c!-- class is "quality.." instead of "level.." because we skip quality select for signets --\x3e<strong>Level :</strong></td><td rowspan="2" class="upgrade-select signetalign"><input id="').f(e.get(["id"],!1),e,"h").w('-edit-signet-level" type="range" min="1" max="20" value="20" class="level-slider"></td></tr><tr><td class="ilvl lightgrey"><span id="').f(e.get(["id"],!1),e,"h").w('-edit-signet-ilvl">0</span></td></tr>')}function g(t,e){return t.w('<tr><td class="item-title lightgrey" colspan="2">Affix</td><td id="').f(e.get(["id"],!1),e,"h").w('-edit-signet-description" class="item-description" colspan="3" rowspan="2"></td><tr><td class="signet-select" colspan="2"><select id="').f(e.get(["id"],!1),e,"h").w('-edit-signet-id" title="Please select signet"></select></td></tr>')}dust.register("slots_edit",t),g.__dustBody=h.__dustBody=u.__dustBody=d.__dustBody=o.__dustBody=p.__dustBody=c.__dustBody=r.__dustBody=n.__dustBody=s.__dustBody=l.__dustBody=a.__dustBody=i.__dustBody=t.__dustBody=!0}(),function(){function t(t,e){return t.w('\x3c!-- TODO/REFACTOR : accessing slots via indexes is not clear (which slot is slots[5] ? etc)--\x3e<div id="slots-recap"><div class="row"><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"></div><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("slot_recap",e,{slot:e.getPath(!1,["slots","2"])}).w('</div><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4"></div></div><div class="row"><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("slot_recap",e,{slot:e.getPath(!1,["slots","3"])}).w('</div><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("slot_recap",e,{slot:e.getPath(!1,["slots","4"])}).w('</div><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("slot_recap",e,{slot:e.getPath(!1,["slots","5"])}).w('</div></div><div class="row"><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("slot_recap",e,{slot:e.getPath(!1,["slots","6"])}).w('</div><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("slot_recap",e,{slot:e.getPath(!1,["slots","7"])}).w('</div><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("slot_recap",e,{slot:e.getPath(!1,["slots","8"])}).w('</div></div><div class="row"><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"></div><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("slot_recap",e,{slot:e.getPath(!1,["slots","0"])}).w('<p id="weapon-recap-active" class="weapon-active-p">Active Weapon</p></div><div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">').p("slot_recap",e,{slot:e.getPath(!1,["slots","1"])}).w('<p id="weapon2-recap-active" class="weapon-active-p" hidden>Active Weapon</p></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"></div></div></div>')}dust.register("slots_recap",t),t.__dustBody=!0}(),function(){function t(t,e){return t.w('<div id="summary"><div id="table-primary"><h4>Summary</h4><table class="table table-stats"><thead><th>Main Stats</th><th></th></thead><tbody><tr><td class="stat-name">Item Power</td><td id="stat-ilvl" class="stat-value stat-inSummary">0</td></tr><tr><td class="stat-name">Power Rating</td><td id="stat-power-rating" class="stat-value stat-inSummary">0</td></tr><tr class="separator"><td class="stat-name">Weapon Power</td><td id="stat-weapon-power" class="stat-value stat-inSummary">0</td></tr><tr><td class="stat-name">Attack Rating</td><td id="stat-attack-rating" class="stat-value dps stat-inSummary">0</td></tr><tr><td class="stat-name">Heal Rating</td><td id="stat-heal-rating" class="stat-value heal stat-inSummary">0</td></tr><tr class="separator"><td class="stat-name">Hit Points</td><td id="stat-hit-points" class="stat-value tank stat-inSummary">0</td></tr><tr><td class="stat-name">Combat Power</td><td id="stat-combat-power" class="stat-value dps stat-inSummary">0</td></tr><tr><td class="stat-name">Healing Power</td><td id="stat-healing-power" class="stat-value heal stat-inSummary">0</td></tr></tbody></table></div><div id="table-offensive"><table class="table table-stats"><thead><th>Offensive Stats</th><th></th></thead><tbody><tr><td class="stat-name">Critical Rating</td><td id="stat-critical-rating" class="stat-value stat-inSummary">0 %</td></tr><tr class="separator"><td class="stat-name">Critical Chance %</td><td id="stat-critical-chance" class="stat-value stat-inSummary">0</td></tr><tr><td class="stat-name">Critical Power Rating</td><td id="stat-critical-power" class="stat-value stat-inSummary">0</td></tr><tr class="separator"><td class="stat-name">Critical Power %</td><td id="stat-critical-power-percentage" class="stat-value stat-inSummary">0 %</td></tr><tr><td class="stat-name">Hit Rating</td><td id="stat-hit-rating" class="stat-value stat-inSummary">0</td></tr><tr><td class="stat-name">Glance Reduction %</td><td id="stat-glance-reduction" class="stat-value stat-inSummary">0%</td></tr></tbody></table></div><div id="table-defensive"><table class="table table-stats"><thead><th>Defensive Stats</th><th></th></thead><tbody><tr><td class="stat-name">Protection</td><td id="stat-protection" class="stat-value stat-inSummary">0</td></tr><tr class="separator"><td class="stat-name">Damage Mitigation</td><td id="stat-damage-mitigation" class="stat-value stat-inSummary">0%</td></tr><tr><td class="stat-name">Defense Rating</td><td id="stat-defense-rating" class="stat-value stat-inSummary">0</td></tr><tr class="separator"><td class="stat-name">Glance Chance %</td><td id="stat-glance-chance" class="stat-value stat-inSummary">0%</td></tr><tr><td class="stat-name">Evade Rating</td><td id="stat-evade-rating" class="stat-value stat-inSummary">0</td></tr><tr><td class="stat-name">Evade Chance %</td><td id="stat-evade-chance" class="stat-value stat-inSummary">0%</td></tr></tbody></table></div><div id="table-miscellaneous"><table class="table table-stats"><thead><th>Other Bonuses</th></thead><tbody><tr><td id="stat-agent1-bonus25" class="stat-name"></td></tr><tr><td id="stat-agent1-bonus50" class="stat-name"></td></tr><tr><td id="stat-agent2-bonus25" class="stat-name"></td></tr><tr><td id="stat-agent2-bonus50" class="stat-name"></td></tr><tr><td id="stat-agent3-bonus25" class="stat-name"></td></tr><tr><td id="stat-agent3-bonus50" class="stat-name"></td></tr></tbody></table></div></div>')}dust.register("summary",t),t.__dustBody=!0}(),$(document).ready(function(){swlcalc.init()});var swlcalc=swlcalc||{};(swlcalc=(swlcalc=function(){var t=function(){dust.render("body",{slots:swlcalc.data.templateData.slots},function(t,e){t&&console.log(t),$("body").html(e)})},e=function(){var t=$.getUrlVars();!$.isEmptyObject(t)&&Object.keys(t).length>=swlcalc.data.templateData.slots.length?(swlcalc.import.start(t),history.pushState("",document.title,window.location.pathname)):$("#btn-reset").trigger("click")},i=function(){swlcalc.gear.init();for(var t=0;t<swlcalc.data.templateData.slots.length;t++)a(swlcalc.data.templateData.slots[t]);for(t=0;t<swlcalc.gear.nbAgents();t++)l(t);s("weapon"),s("weapon2"),swlcalc.buttonBar.init(),swlcalc.animaAllocation.init(),swlcalc.summary.init(),swlcalc.export.init(),swlcalc.themeSwitch.init()},a=function(t){swlcalc.handler[t.id]=new swlcalc.gear.SlotHandler(t),swlcalc.handler[t.id].init()},l=function(t){swlcalc.agenthandler[t]=new swlcalc.gear.AgentSlotHandler(t),swlcalc.agenthandler[t].init()},s=function(t){swlcalc.swap[t]=new swlcalc.swap.SwapHandler(t),swlcalc.swap[t].init()},n=function(t){var e=$("nav").height();$("body").css("padding-top",e+"px")},r=function(){var m=$(window).scrollTop(),v=$("#sidebar"),y=v.position().top;$(window).scroll(function(t){var e=$(window).height(),i=v.outerHeight(),a=$(window).scrollTop(),l=a+e,s=v.position().top,n=s+i,r=Math.abs(e-i),c=m-a,p=m<a,o=i+3<e;o&&y<a||!o&&y+r<a?v.addClass("fixed"):!p&&a<=y&&v.removeClass("fixed");var d=50<=s&&!p;if(n<=l&&p)o?v.css("top",50):v.css("top",-r);else if(d)v.css("top",50);else if(v.hasClass("fixed")){var u=-r,h=parseInt(v.css("top"),10)+c,g=a+e>=$(document).height()?u:h;v.css("top",g)}m=a,p})};return{init:function(){t(),i(),e(),n(),window.addEventListener("resize",n,!0),r(),window.onbeforeunload=function(t){return window.confirm()}}}}())||{}).summary=function(){var t=function(){var t=i();for(var e in t)$("#stat-"+e).text(t[e]+(s(e)?"%":""))},i=function(){var t={"combat-power":0,"healing-power":0,"weapon-power":0,"hit-points":n("hp"),"attack-rating":n("ar"),"heal-rating":n("hr"),"power-rating":0,ilvl:0,protection:n("protection"),"damage-mitigation":0},e=0;for(var i in swlcalc.gear.slots){var a=swlcalc.gear.slots[i];e+=parseInt(a.edit.iLvl()),a.isWeapon()&&!a.active||"none"==a.edit.equipmentId()||(a.isWeapon()?t["weapon-power"]=parseInt(a.edit.equipmentStatPowerValue()):a.isWeapon()||(t["power-rating"]+=parseInt(a.edit.equipmentStatPowerValue()),t.protection+=parseInt(a.edit.equipmentStatProtValue())))}for(var l in swlcalc.gear.agents){var s=swlcalc.gear.agents[l].agentData;swlcalc.util.isPrimaryStat(s.levels[25].type)&&(t[s.levels[25].type]+=parseInt(s.levels[25].value)),50==swlcalc.gear.agents[l].level()&&swlcalc.util.isPrimaryStat(s.levels[50].type)&&(t[s.levels[50].type]+=parseInt(s.levels[50].value))}return t["attack-rating"]+=Math.round(t["power-rating"]*swlcalc.data.stats.arCoefficient*swlcalc.animaAllocation.getDamageRatio()),t["heal-rating"]+=Math.round(t["power-rating"]*swlcalc.data.stats.hrCoefficient*swlcalc.animaAllocation.getHealingRatio()),t["hit-points"]+=Math.round(t["power-rating"]*swlcalc.data.stats.hpCoefficient*swlcalc.animaAllocation.getSurvivabilityRatio()),t["combat-power"]=r("ar",t["attack-rating"],t["weapon-power"]),t["healing-power"]=r("hr",t["heal-rating"],t["weapon-power"]),t.ilvl=o(e),t["damage-mitigation"]=c(t.protection),t},n=function(t){var e=swlcalc.data.stats.computationFigures.primary[t];return e.base+e.capstone+e.spPassive},r=function(t,e,i){var a=(e+i)*swlcalc.data.stats.computationFigures.primary[t].coef;return swlcalc.util.precisionRound(a,1)},c=function(t){var e=swlcalc.data.stats.computationFigures.primary.protection;return swlcalc.util.precisionRound(100*t/(t+e.constDivisor),1)},e=function(){var t=a();for(var e in t)0<t[e]?$("#stat-"+e).html(s(e)?t[e].toString()+"%":"+"+t[e]):$("#stat-"+e).html(s(e)?"0%":"0")},a=function(){var t=swlcalc.data.stats.computationFigures.secondary,e={"critical-rating":t.crit.spPassiveFlat,"critical-chance":0,"critical-power":t.cpow.spPassiveFlat,"critical-power-percentage":0,"hit-rating":t.hit.spPassiveFlat,"glance-reduction":0,"defense-rating":t.def.spPassiveFlat,"glance-chance":0,"evade-rating":t.evad.spPassiveFlat,"evade-chance":0};for(var i in swlcalc.gear.slots){var a=swlcalc.gear.slots[i];a.isWeapon()&&!a.active||(e[a.edit.glyphId()]+=parseInt(a.edit.glyphStatRating()))}for(var l in swlcalc.gear.agents){var s=swlcalc.gear.agents[l].agentData;swlcalc.util.isSecondaryStat(s.levels[25].type)&&(e[s.levels[25].type]+=parseInt(s.levels[25].value)),50==swlcalc.gear.agents[l].level()&&swlcalc.util.isSecondaryStat(s.levels[50].type)&&(e[s.levels[50].type]+=parseInt(s.levels[50].value))}return e["critical-chance"]=p("crit",e["critical-rating"]),e["critical-power-percentage"]=p("cpow",e["critical-power"]),e["glance-reduction"]=p("hit",e["hit-rating"]),e["glance-chance"]=p("def",e["defense-rating"]),e["evade-chance"]=p("evad",e["evade-rating"]),e},p=function(t,e){var i=swlcalc.data.stats.computationFigures.secondary[t];return i.spPassivePercent+i.expertise+swlcalc.util.precisionRound(Math.min(e,i.hardCap)/i.softCapRate+Math.max(e-i.hardCap,0)/i.hardCapRate,1)},l=function(){for(var t in swlcalc.gear.agents){var e=swlcalc.gear.agents[t],i=$("#stat-agent"+(parseInt(t)+1)+"-bonus25");"miscellaneous"==e.agentData.levels[25].type?(i.html(e.text25()),i.show()):(i.html(""),i.hide());var a=$("#stat-agent"+(parseInt(t)+1)+"-bonus50");"50"==e.level()&&"miscellaneous"==e.agentData.levels[50].type?(a.html(e.text50()),a.show()):(a.html(""),a.hide())}},o=function(t){return Math.round(t/swlcalc.gear.nbSlots())},s=function(t){return"critical-power-percentage"==t||"critical-chance"==t||"glance-reduction"==t||"evade-chance"==t||"glance-chance"==t||"damage-mitigation"==t};return{init:function(){},combatPower:function(){return parseInt($("#stat-combat-power").text())},healingPower:function(){return parseInt($("#stat-healing-power").text())},computeSecondaryStat:p,computePrimaryPower:r,computeDamageMitigation:c,computeAverageILvl:o,collectPrimaryStats:i,collectSecondaryStats:a,collectAllStats:function(){return{primary:i(),secondary:a()}},updateAllStats:function(){t(),e(),l()},updateOtherBonuses:l}}(),(swlcalc=swlcalc||{}).swap=swlcalc.swap||{},swlcalc.swap.SwapHandler=function(t){var e=this,i=swlcalc.gear.slots[t];this.init=function(){this.bindEvents()},this.bindEvents=function(){i.recap.el.section.on("click",this.weaponSwap)},this.weaponSwap=function(t){t.target!=i.recap.el.editBtnImg[0]&&(i.draw(),swlcalc.gear.slots[e.otherWeapon()].sheath(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateAllDescriptions())},this.otherWeapon=function(){return"weapon"==t?"weapon2":"weapon"}},(swlcalc=swlcalc||{}).animaAllocation=function(){var e={},t=function(){e.rangeDamage.change(i),e.rangeHealing.change(a),e.rangeSurvivability.change(l)},i=function(t){e.valDamage.text(t.currentTarget.value),s()},a=function(t){e.valHealing.text(t.currentTarget.value),s()},l=function(t){e.valSurvivability.text(t.currentTarget.value),s()},s=function(){for(var t in swlcalc.gear.slots)slot=swlcalc.gear.slots[t],slot.isWeapon()||slot.updateTalismanStatValues();swlcalc.summary.updateAllStats(),swlcalc.gear.updateAllDescriptions()},n=function(){return e.rangeDamage.val()},r=function(){return e.rangeHealing.val()},c=function(){return e.rangeSurvivability.val()};return{el:e,init:function(){e={rangeDamage:$("#anima-allocation-damage-range"),rangeHealing:$("#anima-allocation-healing-range"),rangeSurvivability:$("#anima-allocation-survivability-range"),valDamage:$("#anima-allocation-damage-val"),valHealing:$("#anima-allocation-healing-val"),valSurvivability:$("#anima-allocation-survivability-val")},t()},getDamagePercentage:n,getHealingPercentage:r,getSurvivabilityPercentage:c,getDamageRatio:function(){return n()/100},getHealingRatio:function(){return r()/100},getSurvivabilityRatio:function(){return c()/100},setDamagePercentage:function(t){e.rangeDamage.val(t),e.rangeDamage.change()},setHealingPercentage:function(t){e.rangeHealing.val(t),e.rangeHealing.change()},setSurvivabilityPercentage:function(t){e.rangeSurvivability.val(t),e.rangeSurvivability.change()}}}(),(swlcalc=swlcalc||{}).buttonBar=function(){var t={},e=function(){t.btnAllStandard.on("click",i),t.btnAllSuperior.on("click",i),t.btnAllEpic.on("click",i),t.btnAllMythic.on("click",i),t.btnAllLegendary.on("click",i),t.btnAll1Pip.on("click",a),t.btnAll2Pip.on("click",a),t.btnAll3Pip.on("click",a),t.btnAll4Pip.on("click",l),t.btnAllLvlMin.on("click",s),t.btnAllLvlMax.on("click",n),t.btnReset.on("click",r)},i=function(t){var e=t.currentTarget.id.split("-")[2];for(var i in swlcalc.gear.slots){var a=swlcalc.gear.slots[i];a.edit.equipmentRarity(e),a.edit.el.equipmentRarity.change(),a.edit.glyphRarity(e),a.edit.el.glyphRarity.change(),a.edit.signetRarity(e),a.edit.el.signetRarity.change()}},a=function(t){var e=t.currentTarget.id.split("-")[2];for(var i in swlcalc.gear.slots){var a=swlcalc.gear.slots[i];a.edit.equipmentQuality(e),a.edit.el.equipmentQuality.change(),a.edit.glyphQuality(e),a.edit.el.glyphQuality.change()}},l=function(t){var e=swlcalc.data.rarityMapping.toNum,i="epic";for(var a in swlcalc.gear.slots){var l=swlcalc.gear.slots[a];e[l.edit.equipmentRarity()]<e[i]&&(l.edit.equipmentRarity(i),l.edit.el.equipmentRarity.change()),l.edit.equipmentQuality("4"),l.edit.el.equipmentQuality.change(),e[l.edit.glyphRarity()]<e[i]&&(l.edit.glyphRarity(i),l.edit.el.glyphRarity.change()),l.edit.glyphQuality("4"),l.edit.el.glyphQuality.change()}},s=function(t){for(var e in swlcalc.gear.slots){var i=swlcalc.gear.slots[e];i.edit.equipmentLevel(i.edit.equipmentLevelMin()),i.edit.el.equipmentLevel.change(),i.edit.glyphLevel(i.edit.glyphLevelMin()),i.edit.el.glyphLevel.change(),i.edit.signetLevel(i.edit.signetLevelMin()),i.edit.el.signetLevel.change()}for(var a in swlcalc.gear.agents){var l=swlcalc.gear.agents[a];l.level(l.minLvl()),l.el.level.change()}},n=function(t){for(var e in swlcalc.gear.slots){var i=swlcalc.gear.slots[e];i.edit.equipmentLevel(i.edit.equipmentLevelMax()),i.edit.el.equipmentLevel.change(),i.edit.glyphLevel(i.edit.glyphLevelMax()),i.edit.el.glyphLevel.change(),i.edit.signetLevel(i.edit.signetLevelMax()),i.edit.el.signetLevel.change()}for(var a in swlcalc.gear.agents){var l=swlcalc.gear.agents[a];l.level(l.maxLvl()),l.el.level.change()}},r=function(t){swlcalc.gear.reset(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateAllDescriptions()};return{el:t,init:function(){t={btnAllStandard:$("#btn-all-standard"),btnAllSuperior:$("#btn-all-superior"),btnAllEpic:$("#btn-all-epic"),btnAllMythic:$("#btn-all-mythic"),btnAllLegendary:$("#btn-all-legendary"),btnAll1Pip:$("#btn-all-1-pip"),btnAll2Pip:$("#btn-all-2-pip"),btnAll3Pip:$("#btn-all-3-pip"),btnAll4Pip:$("#btn-all-4-pip"),btnAllLvlMin:$("#btn-all-lvl-min"),btnAllLvlMax:$("#btn-all-lvl-max"),btnReset:$("#btn-reset")},e()},resetGear:r}}(),(swlcalc=swlcalc||{}).export=function(){var e={},t=function(){e.exportBtn.on("click",function(t){i()}),e.openExportModal.on("shown.bs.modal",function(){e.exportText.focus()}),e.exportText.focus(function(){$(this).select(),$(this).mouseup(function(){return $(this).unbind("mouseup"),!1})})},i=function(){var t=a();e.exportText.val(location.origin+location.pathname+"#"+t)},a=function(){var t="";for(var e in swlcalc.gear.slots){var i=swlcalc.gear.slots[e];t+=s(i,i.mappedState()),t+="&"}for(var a in swlcalc.gear.agents){var l=swlcalc.gear.agents[a];t+=n(l),t+="&"}return t+=r()},s=function(t,e){var i=t.id+"="+e.equipmentRarity+","+e.equipmentId+","+e.equipmentQuality+","+e.equipmentLevel+","+e.glyphRarity+","+e.glyphId+","+e.glyphQuality+","+e.glyphLevel;return i+=","+e.signetRarity+","+e.signetId+","+e.signetLevel},n=function(t,e){return"agent"+t.index+"="+t.id()+","+t.level()},r=function(t,e){return"aa="+swlcalc.animaAllocation.getDamagePercentage()+","+swlcalc.animaAllocation.getHealingPercentage()+","+swlcalc.animaAllocation.getSurvivabilityPercentage()};return{init:function(){e={exportBtn:$("a.export"),exportText:$("#export-text"),openExportModal:$("#open-export-modal")},t()},createSlotUrl:s,createAgentUrl:n,createAnimaAllocationUrl:r,createExportUrl:a,startExportUrl:i}}(),(swlcalc=swlcalc||{}).import=function(){var a=function(t,e){var i=swlcalc.gear.slots[t];i.edit.equipmentRarity(swlcalc.data.rarityMapping.toName[e[0]]),i.edit.el.equipmentRarity.change(),i.edit.equipmentId("0"==e[1]?"none":e[1]),i.edit.el.equipmentId.change(),i.edit.equipmentQuality(e[2]),i.edit.el.equipmentQuality.change(),i.edit.equipmentLevel(e[3]),i.edit.el.equipmentLevel.change(),i.edit.glyphRarity(swlcalc.data.rarityMapping.toName[e[4]]),i.edit.el.glyphRarity.change(),i.edit.glyphId(swlcalc.data.secondaryStatMapping.toStat[e[5]]),i.edit.el.glyphId.change(),i.edit.glyphQuality(e[6]),i.edit.el.glyphQuality.change(),i.edit.glyphLevel(e[7]),i.edit.el.glyphLevel.change(),void 0!==e[8]&&void 0!==e[9]&&"999"!==e[9]&&void 0!==e[10]&&(i.edit.signetRarity(swlcalc.data.rarityMapping.toName[e[8]]),i.edit.el.signetRarity.change(),i.edit.signetId("0"!=e[9]?e[9]:"none"),i.edit.el.signetId.change(),i.edit.signetLevel(e[10]),i.edit.el.signetLevel.change())},l=function(t,e){var i=swlcalc.gear.agents[t];i.id(e[0]),i.el.id.change(),i.level(e[1]),i.el.level.change()},s=function(t){swlcalc.animaAllocation.setDamagePercentage(t[0]),swlcalc.animaAllocation.setHealingPercentage(t[1]),swlcalc.animaAllocation.setSurvivabilityPercentage(t[2])};return{start:function(t){for(var e in t)if(paramsArray=t[e].split(","),"aa"==e)s(paramsArray);else if("agent"==e.substring(0,5)){var i=parseInt(e.substring(5,6))-1;l(i,paramsArray)}else a(e,paramsArray);swlcalc.summary.updateAllStats(),swlcalc.gear.updateAllDescriptions()}}}(),(swlcalc=swlcalc||{}).util={capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},blankIfNone:function(t){return"None"==t||"none"==t?"":t},precisionRound:function(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i},sortAsc:function(t,e){return e<t?1:-1},isPrimaryStat:function(t){return-1!=swlcalc.data.statMapping.primaryStats.indexOf(t)},isSecondaryStat:function(t){return-1!=swlcalc.data.statMapping.secondaryStats.indexOf(t)}},(swlcalc=swlcalc||{}).gear=function(){var i={},n=[],a=function(){swlcalc.gear.slots.weapon.draw(),swlcalc.gear.slots.weapon2.sheath()},t=function(){for(var t in i)i[t].updateEquipmentBonuses()},e=function(){for(var t in i)i[t].updateSignetBonus()},l=function(){var t=swlcalc.summary.combatPower(),e=swlcalc.summary.healingPower();for(var i in n){var a=n[i].agentData.levels[25],l=n[i].agentData.levels[50];if(null!=a.varbonus){var s=a.value.replace("%d",Math.round("Combat Power"==a.varbonus.stat?t*a.varbonus.coef:e*a.varbonus.coef));n[i].text25(s)}else if("50"==n[i].level()&&null!=l.varbonus){s=l.value.replace("%d",Math.round("Combat Power"==l.varbonus.stat?t*l.varbonus.coef:e*l.varbonus.coef));n[i].text50(s)}}};return{slots:i,agents:n,init:function(){for(var t=0;t<swlcalc.data.templateData.slots.length;t++){var e=swlcalc.data.templateData.slots[t];i[e.id]=new swlcalc.gear.Slot(e)}a();for(t=0;t<3;t++)n[t]=new swlcalc.gear.Agent(t+1)},nbSlots:function(){return Object.keys(i).length},nbAgents:function(){return n.length},reset:function(){for(var t in i)i[t].reset();for(var e in n)n[e].reset()},state:function(){var t={};for(var e in i)t[e]=i[e].state();return t},mappedState:function(){var t={};for(var e in i)t[e]=i[e].mappedState();return t},updateEquipmentsBonuses:t,updateSignetsBonuses:e,updateAgentsBonuses:l,updateAllDescriptions:function(){t(),e(),l()}}}(),(swlcalc=swlcalc||{}).gear=swlcalc.gear||{},swlcalc.gear.Slot=function(t){var s=this;this.id=t.id,this.name=t.name,this.kind=t.kind,this.group=t.group,this.subgroup=t.subgroup,this.edit=new swlcalc.gear.SlotEdit(t),this.recap=new swlcalc.gear.SlotRecap(t),this.active=!0,this.rawILvl=0,this.rawGlyphILvl=0,this.rawSignetILvl=0,this.isWeapon=function(){return"weapon"==this.group},this.draw=function(){this.active=!0,this.recap.el.weaponActive.show(),this.recap.el.div.addClass("weapon-active-div")},this.sheath=function(){this.active=!1,this.recap.el.weaponActive.hide(),this.recap.el.div.removeClass("weapon-active-div")},this.updateILvl=function(){var t=Math.round(this.rawILvl+this.rawGlyphILvl+this.rawSignetILvl);this.edit.iLvl(t),this.recap.iLvl(t)},this.updateEquipment=function(){var t,e,i;if("none"==this.edit.equipmentId())e="",i="Empty",t="assets/images/icons/equipment/"+this.kind+"/None.png",this.edit.equipmentImgItem(t),this.recap.equipmentImgItem(t);else{var a=swlcalc.data.equipments.slot[this.kind][this.edit.equipmentId()-1],l=new Image;l.onload=function(){t="assets/images/icons/equipment/"+s.kind+"/"+a.name+".png",s.edit.equipmentImgItem(t),s.recap.equipmentImgItem(t)},l.onerror=function(){t=s.isWeapon()?"assets/images/icons/equipment/"+s.kind+"/temp/"+a.type+".png":"assets/images/icons/equipment/"+s.kind+"/"+swlcalc.data.equipments.slot[s.id][0].name+".png",s.edit.equipmentImgItem(t),s.recap.equipmentImgItem(t)},l.src="assets/images/icons/equipment/"+this.kind+"/"+a.name+".png",e=a.description,i=a.name}this.edit.equipmentDescription(e.replace(/%id/g,this.id+"-edit")),this.recap.equipmentDescription(e.replace(/%id/g,this.id+"-recap")),this.recap.equipmentItem(i)},this.updateEquipmentRarity=function(){var t=this.edit.equipmentRarity();this.recap.el.equipmentTitle.attr("class","color-"+t);var e="";e=this.isWeapon()?"assets/images/icons/rarity/"+t+"-42x42.png":"assets/images/icons/rarity/"+this.id+"/"+t+"-42x42.png",this.edit.equipmentImgRarity(e),this.recap.equipmentImgRarity(e),this.edit.el.equipmentLabelLevel.attr("class","label-level big border-"+t),this.recap.el.equipmentLabelLevel.attr("class","label-level big border-"+t),this.recap.equipmentRarity(swlcalc.util.capitalize(t)),this.handle4pipQuality();var i=swlcalc.data.rarityMapping.toMaxLevel[t];this.edit.equipmentLevelMax(i),this.edit.equipmentLevel(i),this.updateEquipmentLevel()},this.handle4pipQuality=function(){var t=swlcalc.data.qualityMapping[this.group].toName[4],e=swlcalc.data.rarityMapping.toNum,i=null!=this.edit.el.equipmentQuality.prop("options")[3];e[this.edit.equipmentRarity()]>=e.epic&&!i?this.edit.el.equipmentQuality.append("<option value='4'>"+t+"</option>"):e[this.edit.equipmentRarity()]<e.epic&&i&&(this.edit.el.equipmentQuality.prop("options")[3].remove(),this.updateEquipmentQuality())},this.updateEquipmentQuality=function(){var t=this.edit.equipmentQuality(),e="assets/images/icons/quality/"+t+".png";this.edit.equipmentImgQuality(e),this.recap.equipmentImgQuality(e);var i=swlcalc.data.qualityMapping[this.group].toName[t];this.recap.equipmentQuality(i),this.isWeapon()&&(this.recap.affixQuality(i),this.recap.el.signetTitle.attr("class","color-"+swlcalc.data.rarityMapping.toName[t]))},this.updateEquipmentLevel=function(){var t=this.edit.equipmentLevel();this.edit.equipmentLabelLevel(t),this.recap.equipmentLevel(t),this.recap.equipmentLabelLevel(t)},this.updateEquipmentStatRating=function(){var t=0;if("none"!=this.edit.equipmentId()){var e={},i=this.edit.equipmentLevel()-1;t=(e=this.isWeapon()?swlcalc.data.powerRating.weapon[this.edit.equipmentRarity()]:swlcalc.data.powerRating[this.subgroup][this.edit.equipmentRarity()][this.edit.equipmentQuality()]).init+Math.round(e.perLevel*i)}this.edit.equipmentStatPowerValue(t),this.recap.equipmentStatPowerValue(t),this.isWeapon()||this.updateTalismanStatValues()},this.updateTalismanStatValues=function(){var t=this.edit.equipmentStatPowerValue();this.recap.equipmentStatHPValue("+"+Math.round(t*swlcalc.data.stats.hpCoefficient*swlcalc.animaAllocation.getSurvivabilityRatio())),this.recap.equipmentStatARValue("+"+Math.round(t*swlcalc.data.stats.arCoefficient*swlcalc.animaAllocation.getDamageRatio())),this.recap.equipmentStatHRValue("+"+Math.round(t*swlcalc.data.stats.hrCoefficient*swlcalc.animaAllocation.getHealingRatio()));var e=0;if("none"!=this.edit.equipmentId()){var i=this.getRawProtValue();e="+"+Math.round(i+i*swlcalc.data.stats.protIncreasePerSurvivabilityPointCoef*swlcalc.animaAllocation.getSurvivabilityRatio())}this.edit.equipmentStatProtValue(e),this.recap.equipmentStatProtValue(e)},this.updateEquipmentILvl=function(){var t=0;"none"!=this.edit.equipmentId()&&(t=this.isWeapon()?this.computeItemILvlWithQuality("weapon",this.edit.equipmentRarity(),this.edit.equipmentQuality(),this.edit.equipmentLevel()):this.computeItemILvlWithQuality("talisman",this.edit.equipmentRarity(),this.edit.equipmentQuality(),this.edit.equipmentLevel())),this.rawILvl=t,this.edit.equipmentILvl(Math.round(t)),this.updateILvl()},this.updateEquipmentBonuses=function(){if(void 0!==this.edit.equipmentBonusN(1)){var t=swlcalc.data.equipments.slot[this.kind][this.edit.equipmentId()-1],e=0;for(i=0;i<t.coefficients.length;i++){"Combat Power"==t.stats[i]?e=swlcalc.summary.combatPower():"Healing Power"==t.stats[i]&&(e=swlcalc.summary.healingPower());var a=Math.round(t.coefficients[i]*e);this.edit.equipmentBonusN(i+1,a),this.recap.equipmentBonusN(i+1,a)}}},this.updateGlyph=function(){var t=this.edit.glyphId();this.edit.glyphStatText(swlcalc.data.statMapping.toPretty[t]),this.recap.glyphStatText(swlcalc.data.statMapping.toPretty[t]);var e="assets/images/icons/glyph/"+t+".png";this.edit.glyphImgItem(e),"none"==t?this.recap.glyphItem(""):this.recap.glyphItem(swlcalc.data.secondaryStatMapping.toName[t])},this.updateGlyphRarity=function(){var t=this.edit.glyphRarity();this.edit.glyphImgRarity("assets/images/icons/rarity/"+t+"-42x42.png"),this.recap.el.glyphTitle.attr("class","color-"+t),this.edit.el.glyphLabelLevel.attr("class","label-level little border-"+t),this.recap.glyphRarity(swlcalc.util.capitalize(t)),this.handleElaborate()},this.handleElaborate=function(){var t=swlcalc.data.rarityMapping.toNum,e=null!=this.edit.el.glyphQuality.prop("options")[3];t[this.edit.glyphRarity()]>=t.epic&&!e?this.edit.el.glyphQuality.append("<option value='4'>Elaborate</option>"):t[this.edit.glyphRarity()]<t.epic&&e&&(this.edit.el.glyphQuality.prop("options")[3].remove(),this.updateGlyphQuality())},this.updateGlyphQuality=function(){var t=this.edit.glyphQuality(),e="assets/images/icons/quality/"+t+".png";this.edit.glyphImgQuality(e),this.recap.glyphQuality(swlcalc.data.qualityMapping.glyph.toName[t])},this.updateGlyphLevel=function(){var t=this.edit.glyphLevel();this.edit.glyphLabelLevel(t),this.recap.glyphLevel(t)},this.updateGlyphRating=function(){var t=0;if("none"!=this.edit.glyphId()){var e=swlcalc.data.glyphRating[this.edit.glyphRarity()][this.edit.glyphQuality()].init,i=swlcalc.data.glyphRating[this.edit.glyphRarity()][this.edit.glyphQuality()].perLevel*(this.edit.glyphLevel()-1);t=e+Math.round(i),"critical-power"==this.edit.glyphId()&&(t*=swlcalc.data.stats.pcritCoefficient),0!==(t=t.toFixed(0))&&(t="+"+t)}this.edit.glyphStatRating(t),this.recap.glyphStatRating(t)},this.updateGlyphILvl=function(){var t=0;"none"!=this.edit.glyphId()&&(t=this.computeItemILvlWithQuality("glyph",this.edit.glyphRarity(),this.edit.glyphQuality(),this.edit.glyphLevel()),this.isWeapon()&&(t*=swlcalc.data.stats.glyphInWeaponCoefficient)),this.rawGlyphILvl=t,this.edit.glyphILvl(Math.round(t)),this.updateILvl()},this.updateSignet=function(){var t="none"==this.edit.signetId()?swlcalc.data.signets.noneSignet:swlcalc.data.signets.slot[this.kind][this.edit.signetId()-1],e="assets/images/icons/signet/"+(t==swlcalc.data.signets.noneSignet?"none":this.id)+".png";this.edit.signetImgItem(e);var i=t.description;this.edit.signetDescription(i.replace(/%id/g,this.id+"-edit")),this.recap.signetDescription(i.replace(/%id/g,this.id+"-recap")),this.recap.signetItem(t.name),this.isWeapon()&&this.recap.affix(t.name)},this.updateSignetRarity=function(){var t=this.edit.signetRarity();this.edit.signetImgRarity("assets/images/icons/rarity/"+t+"-42x42.png"),this.recap.el.signetTitle.attr("class","color-"+t),this.edit.el.signetLabelLevel.attr("class","label-level little border-"+t),this.recap.signetRarity(swlcalc.util.capitalize(t))},this.updateSignetLevel=function(){var t=this.edit.signetLevel();this.edit.signetLabelLevel(t),this.recap.signetLevel(t)},this.updateSignetBonus=function(){if("none"!=this.edit.signetId()){var t=swlcalc.data.signets.slot[this.kind][this.edit.signetId()-1],e=this.edit.signetLevel()-1,a=1;if("Combat Power"==t.stat?a=swlcalc.summary.combatPower():"Healing Power"==t.stat&&(a=swlcalc.summary.healingPower()),this.isWeapon()){var l=t.quality[this.edit.equipmentQuality()];for(i=0;i<l.length;i++){var s=swlcalc.util.precisionRound(l[i]*a,t.decimals[i]);this.edit.signetBonusN(i+1,s),this.recap.signetBonusN(i+1,s)}var n="bonus-val color-"+swlcalc.data.rarityMapping.toName[this.edit.equipmentQuality()];this.edit.signetBonusWrapper().attr("class",n),this.recap.signetBonusWrapper().attr("class",n)}else{l=t.ratio[this.edit.signetRarity()];for(i=0;i<l.init.length;i++){s=swlcalc.util.precisionRound((l.init[i]+l.perLevel[i]*e)*a,t.decimals[i]);this.edit.signetBonusN(i+1,s),this.recap.signetBonusN(i+1,s)}}}},this.updateSignetILvl=function(){var t=0;"none"!=this.edit.signetId()&&(t=this.computeItemILvlWithoutQuality("signet",this.edit.signetRarity(),this.edit.signetLevel())),this.rawSignetILvl=t,this.edit.signetILvl(Math.round(t)),this.updateILvl()},this.reset=function(){this.edit.el.equipmentId.prop("selectedIndex",0),this.edit.el.equipmentRarity.prop("selectedIndex",0),this.edit.el.equipmentQuality.prop("selectedIndex",0),this.edit.el.glyphId.prop("selectedIndex",0),this.edit.el.glyphRarity.prop("selectedIndex",0),this.edit.el.glyphQuality.prop("selectedIndex",0),this.edit.el.glyphLevel.val("20"),this.edit.el.signetId.prop("selectedIndex",0),this.edit.el.signetRarity.prop("selectedIndex",0),this.edit.el.signetLevel.val("20"),this.edit.el.equipmentId.change(),this.edit.el.equipmentRarity.change(),this.edit.el.equipmentQuality.change(),this.edit.el.glyphId.change(),this.edit.el.glyphRarity.change(),this.edit.el.glyphQuality.change(),this.edit.el.glyphLevel.change(),this.edit.el.signetId.change(),this.edit.el.signetRarity.change(),this.edit.el.signetLevel.change()},this.state=function(){return{equipmentRarity:this.edit.equipmentRarity(),equipmentQuality:this.edit.equipmentQuality(),equipmentLevel:this.edit.equipmentLevel(),glyphId:this.edit.glyphId(),glyphRarity:this.edit.glyphRarity(),glyphQuality:this.edit.glyphQuality(),glyphLevel:this.edit.glyphLevel(),signetId:this.edit.signetId(),signetRarity:this.edit.signetRarity(),signetLevel:this.edit.signetLevel()}},this.mappedState=function(){var t=swlcalc.data.secondaryStatMapping.toNum,e=swlcalc.data.rarityMapping.toNum;return{equipmentId:this.stripContent(this.edit.equipmentId()),equipmentRarity:this.stripContent(this.edit.equipmentRarity(),e),equipmentQuality:this.edit.equipmentQuality(),equipmentLevel:this.edit.equipmentLevel(),glyphId:this.stripContent(this.edit.glyphId(),t),glyphRarity:this.stripContent(this.edit.glyphRarity(),e),glyphQuality:this.edit.glyphQuality(),glyphLevel:this.edit.glyphLevel(),signetId:this.stripContent(this.edit.signetId()),signetRarity:this.stripContent(this.edit.signetRarity(),e),signetLevel:this.stripContent(this.edit.signetLevel())}},this.stripContent=function(t,e){return null==t||"none"==t||void 0===t?0:void 0!==e?e[t]:t},this.computeItemILvlWithQuality=function(t,e,i,a){var l=swlcalc.data.ilvl[t][e][i];return l.init+l.perLevel*(a-1)},this.computeItemILvlWithoutQuality=function(t,e,i){var a=swlcalc.data.ilvl[t][e];return a.init+a.perLevel*(i-1)},this.getRawProtValue=function(){var t=swlcalc.data.protection[this.subgroup][this.edit.equipmentRarity()][this.edit.equipmentQuality()],e=this.edit.equipmentLevel()-1;return t.init+Math.round(t.perLevel*e)}},(swlcalc=swlcalc||{}).gear=swlcalc.gear||{},swlcalc.gear.SlotEdit=function(t){this.id=t.id,this.el={div:$("#"+this.id+"-edit-div"),iLvl:$("#"+this.id+"-edit-ilvl"),equipmentId:$("#"+this.id+"-edit-equipment-id"),equipmentRarity:$("#"+this.id+"-edit-equipment-rarity"),equipmentQuality:$("#"+this.id+"-edit-equipment-quality"),equipmentLevel:$("#"+this.id+"-edit-equipment-level"),equipmentStatPowerValue:$("#"+this.id+"-edit-equipment-stat-power-value"),equipmentStatProtValue:$("#"+this.id+"-edit-equipment-stat-prot-value"),equipmentILvl:$("#"+this.id+"-edit-equipment-ilvl"),equipmentImgItem:$("#"+this.id+"-edit-equipment-img-item"),equipmentImgRarity:$("#"+this.id+"-edit-equipment-img-rarity"),equipmentImgQuality:$("#"+this.id+"-edit-equipment-img-quality"),equipmentLabelLevel:$("#"+this.id+"-edit-equipment-label-level"),equipmentDescription:$("#"+this.id+"-edit-equipment-description"),glyphId:$("#"+this.id+"-edit-glyph-id"),glyphRarity:$("#"+this.id+"-edit-glyph-rarity"),glyphQuality:$("#"+this.id+"-edit-glyph-quality"),glyphLevel:$("#"+this.id+"-edit-glyph-level"),glyphStatRating:$("#"+this.id+"-edit-glyph-stat-rating"),glyphStatText:$("#"+this.id+"-edit-glyph-stat-text"),glyphImgItem:$("#"+this.id+"-edit-glyph-img-item"),glyphImgRarity:$("#"+this.id+"-edit-glyph-img-rarity"),glyphImgQuality:$("#"+this.id+"-edit-glyph-img-quality"),glyphLabelLevel:$("#"+this.id+"-edit-glyph-label-level"),glyphILvl:$("#"+this.id+"-edit-glyph-ilvl"),signetId:$("#"+this.id+"-edit-signet-id"),signetRarity:$("#"+this.id+"-edit-signet-rarity"),signetLevel:$("#"+this.id+"-edit-signet-level"),signetImgItem:$("#"+this.id+"-edit-signet-img-item"),signetImgRarity:$("#"+this.id+"-edit-signet-img-rarity"),signetDescription:$("#"+this.id+"-edit-signet-description"),signetLabelLevel:$("#"+this.id+"-edit-signet-label-level"),signetILvl:$("#"+this.id+"-edit-signet-ilvl")},this.iLvl=function(){if(1!=arguments.length)return this.el.iLvl.text();this.el.iLvl.text(arguments[0])},this.equipmentId=function(){if(1!=arguments.length)return this.el.equipmentId.val();this.el.equipmentId.val(arguments[0])},this.equipmentRarity=function(){if(1!=arguments.length)return this.el.equipmentRarity.val();this.el.equipmentRarity.val(arguments[0])},this.equipmentQuality=function(){if(1!=arguments.length)return this.el.equipmentQuality.val();this.el.equipmentQuality.val(arguments[0])},this.equipmentLevel=function(){if(1!=arguments.length)return this.el.equipmentLevel.val();this.el.equipmentLevel.val(arguments[0])},this.equipmentLevelMin=function(){if(1!=arguments.length)return this.el.equipmentLevel.attr("min");this.el.equipmentLevel.attr("min",arguments[0])},this.equipmentLevelMax=function(){if(1!=arguments.length)return this.el.equipmentLevel.attr("max");this.el.equipmentLevel.attr("max",arguments[0])},this.equipmentStatPowerValue=function(){if(1!=arguments.length)return this.el.equipmentStatPowerValue.text();this.el.equipmentStatPowerValue.text(arguments[0])},this.equipmentStatProtValue=function(){if(1!=arguments.length)return this.el.equipmentStatProtValue.text();this.el.equipmentStatProtValue.text(arguments[0])},equipmentStatRawProtValue=0,this.equipmentILvl=function(){if(1!=arguments.length)return this.el.equipmentILvl.text();this.el.equipmentILvl.text(arguments[0])},this.equipmentDescription=function(){if(1!=arguments.length)return this.el.equipmentDescription.html();this.el.equipmentDescription.html(arguments[0])},this.equipmentBonusN=function(t){if(2!=arguments.length)return $("#"+this.id+"-edit-equipment-bonus"+t).html();$("#"+this.id+"-edit-equipment-bonus"+t).html(arguments[1])},this.equipmentImgItem=function(){if(1!=arguments.length)return this.el.equipmentImgItem.attr("src");this.el.equipmentImgItem.attr("src",arguments[0])},this.equipmentImgRarity=function(){if(1!=arguments.length)return this.el.equipmentImgRarity.attr("src");this.el.equipmentImgRarity.attr("src",arguments[0])},this.equipmentImgQuality=function(){if(1!=arguments.length)return this.el.equipmentImgQuality.attr("src");this.el.equipmentImgQuality.attr("src",arguments[0])},this.equipmentLabelLevel=function(){if(1!=arguments.length)return this.el.equipmentLabelLevel.text();this.el.equipmentLabelLevel.text(arguments[0])},this.glyphId=function(){if(1!=arguments.length)return this.el.glyphId.val();this.el.glyphId.val(arguments[0])},this.glyphRarity=function(){if(1!=arguments.length)return this.el.glyphRarity.val();this.el.glyphRarity.val(arguments[0])},this.glyphQuality=function(){if(1!=arguments.length)return this.el.glyphQuality.val();this.el.glyphQuality.val(arguments[0])},this.glyphLevel=function(){if(1!=arguments.length)return this.el.glyphLevel.val();this.el.glyphLevel.val(arguments[0])},this.glyphLevelMin=function(){if(1!=arguments.length)return this.el.glyphLevel.attr("min");this.el.glyphLevel.attr("min",arguments[0])},this.glyphLevelMax=function(){if(1!=arguments.length)return this.el.glyphLevel.attr("max");this.el.glyphLevel.attr("max",arguments[0])},this.glyphStatRating=function(){if(1!=arguments.length)return this.el.glyphStatRating.text();this.el.glyphStatRating.text(arguments[0])},this.glyphStatText=function(){if(1!=arguments.length)return this.el.glyphStatText.text();this.el.glyphStatText.text(arguments[0])},this.glyphILvl=function(){if(1!=arguments.length)return this.el.glyphILvl.text();this.el.glyphILvl.text(arguments[0])},this.glyphImgItem=function(){if(1!=arguments.length)return this.el.glyphImgItem.attr("src");this.el.glyphImgItem.attr("src",arguments[0])},this.glyphImgRarity=function(){if(1!=arguments.length)return this.el.glyphImgRarity.attr("src");this.el.glyphImgRarity.attr("src",arguments[0])},this.glyphImgQuality=function(){if(1!=arguments.length)return this.el.glyphImgQuality.attr("src");this.el.glyphImgQuality.attr("src",arguments[0])},this.glyphLabelLevel=function(){if(1!=arguments.length)return this.el.glyphLabelLevel.text();this.el.glyphLabelLevel.text(arguments[0])},this.signetId=function(){if(1!=arguments.length)return this.el.signetId.val();this.el.signetId.val(arguments[0])},this.signetRarity=function(){if(1!=arguments.length)return this.el.signetRarity.val();this.el.signetRarity.val(arguments[0])},this.signetLevel=function(){if(1!=arguments.length)return this.el.signetLevel.val();this.el.signetLevel.val(arguments[0])},this.signetLevelMin=function(){if(1!=arguments.length)return this.el.signetLevel.attr("min");this.el.signetLevel.attr("min",arguments[0])},this.signetLevelMax=function(){if(1!=arguments.length)return this.el.signetLevel.attr("max");this.el.signetLevel.attr("max",arguments[0])},this.signetILvl=function(){if(1!=arguments.length)return this.el.signetILvl.text();this.el.signetILvl.text(arguments[0])},this.signetDescription=function(){if(1!=arguments.length)return this.el.signetDescription.html();this.el.signetDescription.html(arguments[0])},this.signetBonusN=function(t){if(2!=arguments.length)return $("#"+this.id+"-edit-signet-bonus"+t).text();$("#"+this.id+"-edit-signet-bonus"+t).text(arguments[1])},this.signetBonusWrapper=function(){return $("#"+this.id+"-edit-signet-bonus-wrapper")},this.signetImgItem=function(){if(1!=arguments.length)return this.el.signetImgItem.attr("src");this.el.signetImgItem.attr("src",arguments[0])},this.signetImgRarity=function(){if(1!=arguments.length)return this.el.signetImgRarity.attr("src");this.el.signetImgRarity.attr("src",arguments[0])},this.signetLabelLevel=function(){if(1!=arguments.length)return this.el.signetLabelLevel.text();this.el.signetLabelLevel.text(arguments[0])}},(swlcalc=swlcalc||{}).gear=swlcalc.gear||{},swlcalc.gear.SlotRecap=function(t){this.id=t.id,this.kind=t.kind,this.group=t.group,this.el={section:$("#"+this.id+"-recap-section"),div:$("#"+this.id+"-recap-div"),editBtn:$("#"+this.id+"-recap-editbtn"),editBtnImg:$("#"+this.id+"-recap-editbtn-img"),weaponActive:$("#"+this.id+"-recap-active"),iLvl:$("#"+this.id+"-recap-ilvl"),equipmentEmpty:$("#"+this.id+"-recap-equipment-empty"),equipmentTitleSection:$("#"+this.id+"-recap-equipment-title-section"),equipmentTitle:$("#"+this.id+"-recap-equipment-title"),equipmentSubtitleSection:$("#"+this.id+"-recap-equipment-subtitle-section"),equipmentItem:$("#"+this.id+"-recap-equipment-item"),equipmentRarity:$("#"+this.id+"-recap-equipment-rarity"),equipmentQuality:$("#"+this.id+"-recap-equipment-quality"),equipmentLevel:$("#"+this.id+"-recap-equipment-level"),equipmentStatSection:$("#"+this.id+"-recap-equipment-stat-section"),equipmentStatPowerValue:$("#"+this.id+"-recap-equipment-stat-power-value"),equipmentStatHPSection:$("#"+this.id+"-recap-equipment-stat-hp-section"),equipmentStatARSection:$("#"+this.id+"-recap-equipment-stat-ar-section"),equipmentStatHRSection:$("#"+this.id+"-recap-equipment-stat-hr-section"),equipmentStatProtSection:$("#"+this.id+"-recap-equipment-stat-prot-section"),equipmentStatHPValue:$("#"+this.id+"-recap-equipment-stat-hp-value"),equipmentStatARValue:$("#"+this.id+"-recap-equipment-stat-ar-value"),equipmentStatHRValue:$("#"+this.id+"-recap-equipment-stat-hr-value"),equipmentStatProtValue:$("#"+this.id+"-recap-equipment-stat-prot-value"),equipmentImgSection:$("#"+this.id+"-recap-equipment-img-section"),equipmentImgItem:$("#"+this.id+"-recap-equipment-img-item"),equipmentImgRarity:$("#"+this.id+"-recap-equipment-img-rarity"),equipmentImgQuality:$("#"+this.id+"-recap-equipment-img-quality"),equipmentDescription:$("#"+this.id+"-recap-equipment-description"),equipmentDescriptionSection:$("#"+this.id+"-recap-equipment-description-section"),equipmentLabelLevel:$("#"+this.id+"-recap-equipment-label-level"),glyphSection:$("#"+this.id+"-recap-glyph-section"),glyphEmpty:$("#"+this.id+"-recap-glyph-empty"),glyphTitle:$("#"+this.id+"-recap-glyph-title"),glyphItem:$("#"+this.id+"-recap-glyph-item"),glyphRarity:$("#"+this.id+"-recap-glyph-rarity"),glyphQuality:$("#"+this.id+"-recap-glyph-quality"),glyphLevel:$("#"+this.id+"-recap-glyph-level"),glyphStatRating:$("#"+this.id+"-recap-glyph-stat-rating"),glyphStatText:$("#"+this.id+"-recap-glyph-stat-text"),signetSection:$("#"+this.id+"-recap-signet-section"),signetEmpty:$("#"+this.id+"-recap-signet-empty"),signetTitle:$("#"+this.id+"-recap-signet-title"),signetItem:$("#"+this.id+"-recap-signet-item"),signetRarity:$("#"+this.id+"-recap-signet-rarity"),signetLevel:$("#"+this.id+"-recap-signet-level"),signetDescription:$("#"+this.id+"-recap-signet-description"),affix:$("#"+this.id+"-recap-affix"),affixQuality:$("#"+this.id+"-recap-affix-quality")},this.iLvl=function(){if(1!=arguments.length)return this.el.iLvl.text();this.el.iLvl.text(arguments[0])},this.equipmentItem=function(){if(1!=arguments.length)return this.el.equipmentItem.text();this.el.equipmentItem.text(arguments[0]),"Empty"==arguments[0]?(this.el.equipmentTitleSection.hide(),this.el.equipmentSubtitleSection.hide(),this.el.equipmentStatSection.hide(),this.el.equipmentEmpty.show()):this.el.equipmentTitleSection.is(":hidden")&&(this.el.equipmentTitleSection.show(),this.el.equipmentSubtitleSection.show(),this.el.equipmentStatSection.show(),this.el.equipmentEmpty.hide())},this.equipmentRarity=function(){if(1!=arguments.length)return this.el.equipmentRarity.text();this.el.equipmentRarity.text(arguments[0])},this.equipmentQuality=function(){if(1!=arguments.length)return this.el.equipmentQuality.text();this.el.equipmentQuality.text(arguments[0])},this.equipmentLevel=function(){if(1!=arguments.length)return this.el.equipmentLevel.text();this.el.equipmentLevel.text(arguments[0])},this.equipmentStatPowerValue=function(){if(1!=arguments.length)return this.el.equipmentStatPowerValue.text();this.el.equipmentStatPowerValue.text(arguments[0])},this.equipmentStatHPValue=function(){if(1!=arguments.length)return this.el.equipmentStatHPValue.text();this.el.equipmentStatHPValue.text(arguments[0]),0==arguments[0]?this.el.equipmentStatHPSection.hide():this.el.equipmentStatHPSection.is(":hidden")&&this.el.equipmentStatHPSection.show()},this.equipmentStatARValue=function(){if(1!=arguments.length)return this.el.equipmentStatARValue.text();this.el.equipmentStatARValue.text(arguments[0]),0==arguments[0]?this.el.equipmentStatARSection.hide():this.el.equipmentStatARSection.is(":hidden")&&this.el.equipmentStatARSection.show()},this.equipmentStatHRValue=function(){if(1!=arguments.length)return this.el.equipmentStatHRValue.text();this.el.equipmentStatHRValue.text(arguments[0]),0==arguments[0]?this.el.equipmentStatHRSection.hide():this.el.equipmentStatHRSection.is(":hidden")&&this.el.equipmentStatHRSection.show()},this.equipmentStatProtValue=function(){if(1!=arguments.length)return this.el.equipmentStatProtValue.text();this.el.equipmentStatProtValue.text(arguments[0]),0==arguments[0]?this.el.equipmentStatProtSection.hide():this.el.equipmentStatProtSection.is(":hidden")&&this.el.equipmentStatProtSection.show()},this.equipmentDescription=function(){if(1!=arguments.length)return this.el.equipmentDescription.html();this.el.equipmentDescription.html(arguments[0]),""==arguments[0]?this.el.equipmentDescriptionSection.hide():this.el.equipmentDescriptionSection.is(":hidden")&&this.el.equipmentDescriptionSection.show()},this.equipmentBonusN=function(t){if(2!=arguments.length)return $("#"+this.id+"-recap-equipment-bonus"+t).html();$("#"+this.id+"-recap-equipment-bonus"+t).html(arguments[1])},this.equipmentImgItem=function(){if(1!=arguments.length)return this.el.equipmentImgItem.attr("src");this.el.equipmentImgItem.attr("src",arguments[0]),arguments[0]=="assets/images/icons/equipment/"+this.kind+"/None.png"?this.el.equipmentImgSection.hide():this.el.equipmentImgSection.is(":hidden")&&this.el.equipmentImgSection.show()},this.equipmentImgRarity=function(){if(1!=arguments.length)return this.el.equipmentImgRarity.attr("src");this.el.equipmentImgRarity.attr("src",arguments[0])},this.equipmentImgQuality=function(){if(1!=arguments.length)return this.el.equipmentImgQuality.attr("src");this.el.equipmentImgQuality.attr("src",arguments[0])},this.equipmentLabelLevel=function(){if(1!=arguments.length)return this.el.equipmentLabelLevel.text();this.el.equipmentLabelLevel.text(arguments[0])},this.glyphItem=function(){if(1!=arguments.length)return this.el.glyphItem.text();this.el.glyphItem.text(arguments[0]),""==arguments[0]?(this.el.glyphSection.hide(),this.el.glyphEmpty.show()):this.el.glyphSection.is(":hidden")&&(this.el.glyphSection.show(),this.el.glyphEmpty.hide())},this.glyphRarity=function(){if(1!=arguments.length)return this.el.glyphRarity.text();this.el.glyphRarity.text(arguments[0])},this.glyphQuality=function(){if(1!=arguments.length)return this.el.glyphQuality.text();this.el.glyphQuality.text(arguments[0])},this.glyphLevel=function(){if(1!=arguments.length)return this.el.glyphLevel.text();this.el.glyphLevel.text(arguments[0])},this.glyphStatRating=function(){if(1!=arguments.length)return this.el.glyphStatRating.text();this.el.glyphStatRating.text(arguments[0])},this.glyphStatText=function(){if(1!=arguments.length)return this.el.glyphStatText.text();this.el.glyphStatText.text(arguments[0])},this.signetItem=function(){if(1!=arguments.length)return this.el.signetItem.text();this.el.signetItem.text(arguments[0]),""==arguments[0]?(this.el.signetSection.hide(),this.el.signetEmpty.show()):this.el.signetSection.is(":hidden")&&(this.el.signetSection.show(),this.el.signetEmpty.hide())},this.signetRarity=function(){if(1!=arguments.length)return this.el.signetRarity.text();this.el.signetRarity.text(arguments[0])},this.signetLevel=function(){if(1!=arguments.length)return this.el.signetLevel.text();this.el.signetLevel.text(arguments[0])},this.signetDescription=function(){if(1!=arguments.length)return this.el.signetDescription.html();this.el.signetDescription.html(arguments[0])},this.signetBonusN=function(t){if(2!=arguments.length)return $("#"+this.id+"-recap-signet-bonus"+t).text();$("#"+this.id+"-recap-signet-bonus"+t).text(arguments[1])},this.signetBonusWrapper=function(){return $("#"+this.id+"-recap-signet-bonus-wrapper")},this.affix=function(){if(1!=arguments.length)return this.el.affix.text();this.el.affix.text("of "+arguments[0]),""==arguments[0]?this.el.affix.hide():this.el.affix.is(":hidden")&&this.el.affix.show()},this.affixQuality=function(){if(1!=arguments.length)return this.el.affixQuality.text();this.el.affixQuality.text(arguments[0])}},(swlcalc=swlcalc||{}).gear=swlcalc.gear||{},swlcalc.handler=swlcalc.handler||{},swlcalc.gear.SlotHandler=function(e){var i=swlcalc.gear.slots[e.id];this.init=function(){this.bindEvents(),this.addSignetsToSelect(),this.addEquipmentsToSelect(),"weapon"==e.kind&&i.edit.el.equipmentId.select2({dropdownParent:$("#"+e.id+"-edit-modal")})},this.bindEvents=function(){i.edit.el.equipmentId.change(this.handleEquipmentIdChange),i.edit.el.equipmentRarity.change(this.handleEquipmentRarityChange),i.edit.el.equipmentQuality.change(this.handleEquipmentQualityChange),i.edit.el.equipmentLevel.change(this.handleEquipmentLevelChange),i.edit.el.glyphId.change(this.handleGlyphIdChange),i.edit.el.glyphRarity.change(this.handleGlyphRarityChange),i.edit.el.glyphQuality.change(this.handleGlyphQualityChange),i.edit.el.glyphLevel.change(this.handleGlyphLevelChange),"weapon"==e.kind?i.edit.el.signetId.change(this.handleAffixIdChange):(i.edit.el.signetId.change(this.handleSignetIdChange),i.edit.el.signetRarity.change(this.handleSignetRarityChange),i.edit.el.signetLevel.change(this.handleSignetLevelChange))},this.addEquipmentsToSelect=function(){i.edit.el.equipmentId.append($("<option>",{value:"none",text:"None",selected:"true"}));var t=swlcalc.data.equipments.slot[e.kind].slice();"weapon"==e.group?(t.sort(function(t,e){return swlcalc.util.sortAsc(t.type+t.name.toLowerCase(),e.type+e.name.toLowerCase())}),t.forEach(function(t){i.edit.el.equipmentId.append($("<option>",{value:t.id,text:"["+t.type+"] "+t.name}))})):(t.sort(function(t,e){return swlcalc.util.sortAsc(t.name.toLowerCase(),e.name.toLowerCase())}),t.forEach(function(t){i.edit.el.equipmentId.append($("<option>",{value:t.id,text:t.name}))}))},this.addSignetsToSelect=function(){i.edit.el.signetId.append($("<option>",{value:"none",text:"None",selected:"true"}));var t=swlcalc.data.signets.slot[e.kind].slice();t.sort(function(t,e){return swlcalc.util.sortAsc(t.name.toLowerCase(),e.name.toLowerCase())}),t.forEach(function(t){i.edit.el.signetId.append($("<option>",{value:t.id,text:t.name}))})};var a=function(t){$(t).attr("class","color-"+t.value)};this.handleEquipmentIdChange=function(t){i.updateEquipment(),i.updateEquipmentStatRating(),i.updateEquipmentILvl(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateAllDescriptions()},this.handleEquipmentRarityChange=function(t){a(this),i.updateEquipmentRarity(),i.updateEquipmentStatRating(),i.updateEquipmentILvl(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateAllDescriptions()},this.handleEquipmentQualityChange=function(t){i.updateEquipmentQuality(),i.updateEquipmentStatRating(),i.updateEquipmentILvl(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateAllDescriptions()},this.handleEquipmentLevelChange=function(t){i.updateEquipmentLevel(),i.updateEquipmentStatRating(),i.updateEquipmentILvl(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateAllDescriptions()},this.handleGlyphIdChange=function(t){i.updateGlyph(),i.updateGlyphRating(),i.updateGlyphILvl(),swlcalc.summary.updateAllStats()},this.handleGlyphRarityChange=function(t){a(this),i.updateGlyphRarity(),i.updateGlyphRating(),i.updateGlyphILvl(),swlcalc.summary.updateAllStats()},this.handleGlyphQualityChange=function(t){i.updateGlyphQuality(),i.updateGlyphRating(),i.updateGlyphILvl(),swlcalc.summary.updateAllStats()},this.handleGlyphLevelChange=function(t){i.updateGlyphLevel(),i.updateGlyphRating(),i.updateGlyphILvl(),swlcalc.summary.updateAllStats()},this.handleAffixIdChange=function(t){i.updateSignet(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateSignetsBonuses()},this.handleSignetIdChange=function(t){i.updateSignet(),i.updateSignetILvl(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateSignetsBonuses()},this.handleSignetRarityChange=function(t){a(this),i.updateSignetRarity(),i.updateSignetILvl(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateSignetsBonuses()},this.handleSignetLevelChange=function(t){i.updateSignetLevel(),i.updateSignetILvl(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateSignetsBonuses()}},(swlcalc=swlcalc||{}).themeSwitch=function(){var t={},e=function(){t.btnThemeClassic.on("click",i),t.btnThemeSw.on("click",i)},i=function(t){var e=t.currentTarget.id.split("-")[2];$("html")[0].setAttribute("theme",e);var i="classic"==e?"navbar-default":"navbar-inverse",a=$("nav")[0];a.className=a.className.replace(/navbar-(inverse|default)/g,i)};return{el:t,init:function(){t={btnThemeClassic:$("#btn-theme-classic"),btnThemeSw:$("#btn-theme-sw")},e()}}}(),(swlcalc=swlcalc||{}).gear=swlcalc.gear||{},swlcalc.gear.Agent=function(t){this.index=t,this.agentData=swlcalc.data.agents[0],this.el={id:$("#agent"+this.index+"-id"),level:$("#agent"+this.index+"-level"),text25:$("#agent"+this.index+"-text25"),text50:$("#agent"+this.index+"-text50")},this.id=function(){if(1!=arguments.length)return this.el.id.val();this.el.id.val(arguments[0])},this.level=function(){if(1!=arguments.length)return this.el.level.val();this.el.level.val(arguments[0])},this.text25=function(){if(1!=arguments.length)return this.el.text25.html();this.el.text25.html(arguments[0])},this.text50=function(){if(1!=arguments.length)return this.el.text50.html();this.el.text50.html(arguments[0])},this.updateId=function(){var t=this.id();this.agentData=swlcalc.data.agents[t],this.text25(this.prettifyBonus(this.agentData,"25")),this.updateLevel()},this.updateLevel=function(){"50"==this.level()?this.text50(this.prettifyBonus(this.agentData,"50")):this.text50("")},this.reset=function(){this.el.id.prop("selectedIndex",0),this.el.level.prop("selectedIndex",0),this.el.id.change(),this.el.level.change()},this.minLvl=function(){return this.el.level[0].options[0].value},this.maxLvl=function(){var t=this.el.level[0].options;return t[t.length-1].value},this.prettifyBonus=function(t,e){return"miscellaneous"==t.levels[e].type||"empty"==t.levels[e].type?t.levels[e].value:'<span class="stat-value gear">+'+t.levels[e].value+"</span> "+swlcalc.data.statMapping.toPretty[t.levels[e].type]}},(swlcalc=swlcalc||{}).gear=swlcalc.gear||{},swlcalc.agenthandler=swlcalc.agenthandler||{},swlcalc.gear.AgentSlotHandler=function(t){var e=swlcalc.gear.agents[t];this.init=function(){this.bindEvents(),this.addAgentsToSelect(),e.el.id.select2()},this.bindEvents=function(){e.el.id.change(this.handleIdChange),e.el.level.change(this.handleLevelChange)},this.addAgentsToSelect=function(){var t=swlcalc.data.agents.slice(1);t.sort(function(t,e){return swlcalc.util.sortAsc(t.name.toLowerCase(),e.name.toLowerCase())}),e.el.id.append($("<option>",{value:swlcalc.data.agents[0].id,text:swlcalc.data.agents[0].name})),t.forEach(function(t){e.el.id.append($("<option>",{value:t.id,text:t.name}))})},this.handleIdChange=function(t){e.updateId(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateAllDescriptions(),swlcalc.summary.updateOtherBonuses()},this.handleLevelChange=function(t){e.updateLevel(),swlcalc.summary.updateAllStats(),swlcalc.gear.updateAllDescriptions(),swlcalc.summary.updateOtherBonuses()}};